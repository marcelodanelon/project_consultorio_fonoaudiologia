<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano Cartesiano</title>
    <style>
        .cartesian-plane {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 20px;
        }

        .axis {
            position: absolute;
            background-color: #000;
        }

        .x-axis {
            width: 90%;
            height: 1px;
            top: 50%;
            left: 0;
        }

        .y-axis {
            width: 1px;
            height: 120%;
            top: 0;
            left: 50%;
        }

        .tick {
            position: absolute;
            background-color: #000;
        }

        .x-tick {
            width: 1px;
            height: 120%;
        }

        .y-tick {
            width: 100%;
            height: 1px;
        }

        .intersection-point {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            //background-color: red;
            transform: translate(-50%, -50%);
        }

        .green-point {
            position: absolute;
            width: 5px;
            height: 5px;
            background-color: green;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        
        .line {
            position: absolute;
            height: 2px;
            background-color: green;
            transform-origin: left center;
        }
    </style>
</head>
<body>

    <div class="cartesian-plane" id="cartesian-plane">
        <!-- Eixo X -->
        <div class="axis x-axis"></div>

        <!-- Eixo Y -->
        <div class="axis y-axis"></div>

        <!-- Ticks no eixo X -->
        <!-- Criei 10 ticks igualmente espaçados -->
        <div class="tick x-tick" style="left: 0%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateX(-50%); top: -20px;"></div>
        </div>
        <div class="tick x-tick" style="left: 10%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateX(-50%); top: -20px;">250</div>
        </div>
        <div class="tick x-tick" style="left: 20%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateX(-50%); top: -20px;">500</div>
        </div>
        <div class="tick x-tick" style="left: 30%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateX(-50%); top: -20px;">1K</div>
        </div>
        <div class="tick x-tick" style="left: 40%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateX(-50%); top: -20px;">2K</div>
        </div>
        <div class="tick x-tick" style="left: 50%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateX(-50%); top: -20px;">3K</div>
        </div>
        <div class="tick x-tick" style="left: 60%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateX(-50%); top: -20px;">4K</div>
        </div>
        <div class="tick x-tick" style="left: 70%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateX(-50%); top: -20px;">6K</div>
        </div>
        <div class="tick x-tick" style="left: 80%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateX(-50%); top: -20px;">8K</div>
        </div>
        <div class="tick x-tick" style="left: 100%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateX(-50%); top: -20px;">Hz</div>
        </div>

        <!-- Ticks no eixo Y -->
        <!-- Criei 10 ticks igualmente espaçados -->
        <div class="tick y-tick" style="top: 0%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">-10</div>
        </div>
        <div class="tick y-tick" style="top: 10%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">0</div>
        </div>
        <div class="tick y-tick" style="top: 20%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">10</div>
        </div>
        <div class="tick y-tick" style="top: 30%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">20</div>
        </div>
        <div class="tick y-tick" style="top: 40%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">30</div>
        </div>
        <div class="tick y-tick" style="top: 50%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">40</div>
        </div>
        <div class="tick y-tick" style="top: 60%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">50</div>
        </div>
        <div class="tick y-tick" style="top: 70%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">60</div>
        </div>
        <div class="tick y-tick" style="top: 80%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">70</div>
        </div>
        <div class="tick y-tick" style="top: 90%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">80</div>
        </div>
        <div class="tick y-tick" style="top: 100%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">90</div>
        </div>
        <div class="tick y-tick" style="top: 110%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">100</div>
        </div>
        <div class="tick y-tick" style="top: 120%;">
            <div class="x-label" style="position: absolute; font-size: 12px; transform: translateY(-50%); left: -23px;">110</div>
        </div>
        
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const plane = document.getElementById("cartesian-plane");
            let greenPoints = [];
        
            for (let i = 0; i <= 100; i += 10) {
                for (let j = 0; j <= 120; j += 10) {
                    if (i != 90){
                        const point = document.createElement("div");
                        point.className = "intersection-point";
                        point.style.left = i + "%";
                        point.style.top = j + "%";
                        plane.appendChild(point);
                    }
                }
            }
        
            plane.addEventListener("click", function (event) {
                const clickedPoint = document.elementFromPoint(event.clientX, event.clientY);
        
                if (clickedPoint && clickedPoint.classList.contains("intersection-point")) {
                    // Adiciona um ponto verde
                    const greenPoint = document.createElement("div");
                    greenPoint.className = "green-point";
                    greenPoint.style.left = clickedPoint.style.left;
                    greenPoint.style.top = clickedPoint.style.top;
                    plane.appendChild(greenPoint);
        
                    // Adiciona o ponto verde à lista
                    greenPoints.push(greenPoint);
        
                    // Conecta pontos verdes com uma linha
                    if (greenPoints.length > 1) {
                        const line = document.createElement("div");
                        line.className = "line";
        
                        const startX = parseFloat(greenPoints[greenPoints.length - 2].style.left);
                        const startY = parseFloat(greenPoints[greenPoints.length - 2].style.top);
                        const endX = parseFloat(greenPoint.style.left);
                        const endY = parseFloat(greenPoint.style.top);
        
                        // Calcula o comprimento e ângulo em porcentagens
                        const length = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
                        const angle = Math.atan2(endY - startY, endX - startX);
        
                        // Define as coordenadas do ponto inicial e o comprimento da linha
                        line.style.left = startX + "%";
                        line.style.top = startY + "%";
                        line.style.width = length + "%";
        
                        // Define a transformação para a rotação da linha
                        line.style.transform = `rotate(${angle}rad)`;
                        plane.appendChild(line);
                    }
                }
            });
        });
        
    </script>
    
    

</body>
</html>
