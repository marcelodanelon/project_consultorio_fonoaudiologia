{% extends 'global/base.html' %}

{% block nav_lateral %}{% include 'partials/_nav_atendimento.html' %}{% endblock nav_lateral %}

{% block content %}
<style>
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 5px;
        text-align: center;
    }
    th {
        background-color: #f2f2f2;
    }
    .cartesian-plane {
        position: relative;
        width: 300px;
        height: 300px;
        margin: 20px;
    }

    .axis {
        position: absolute;
        background-color: #000;
    }

    .x-axis {
        width: 90%;
        height: 1px;
        top: 50%;
        left: 0;
    }

    .y-axis {
        width: 1px;
        height: 120%;
        top: 0;
        left: 50%;
    }

    .tick {
        position: absolute;
        background-color: #000;
    }

    .x-tick {
        width: 1px;
        height: 120%;
    }

    .y-tick {
        width: 100%;
        height: 1px;
    }

    .intersection-point {
        position: absolute;
        width: 5px;
        height: 5px;
        border-radius: 50%;
        //background-color: red;
        transform: translate(-50%, -50%);
    }

    .green-point {
        position: absolute;
        width: 5px;
        height: 5px;
        background-color: green;
        border-radius: 50%;
        transform: translate(-50%, -50%);
    }

    .blue-point {
        position: absolute;
        width: 5px;
        height: 5px;
        background-color: blue;
        border-radius: 50%;
        transform: translate(-50%, -50%);
    }
    
    .line {
        position: absolute;
        height: 2px;
        transform-origin: left center;
    }

    .line-green {
        background-color: green;
    }

    .line-blue {
        background-color: blue;
    }
</style>
<div class="container" style="padding:1px 16px;">
    <h3>{{name_screen}}</h3>
    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'first')" id="defaultOpen">Dados Iniciais</button>
        <button class="tablinks" onclick="openTab(event, 'second')">Desfecho</button>
    </div>
    <form action="{{form_action}}" method="post" class="container-all form-horizontal" style="height:75%">
        {% csrf_token %} 
        <!-- Conteúdo da Primeira Aba -->
        <div id="first" class="tabcontent">
            {% include 'audiometria/pages_audiometrias/page1_au.html' %}
        </div>
        <!-- Conteúdo da Segunda Aba -->
        <div id="second" class="tabcontent">
            {% include 'audiometria/pages_audiometrias/page2_au.html' %} 
        </div>   

        <div class="form-content d-flex flex-row bd-highlight" style="margin-top: 3%;">
            <div style="display: inline-block;">
                <button id="btn_gravar" class="btn btn-success me-1" type="submit">Gravar</button>
                <a href="{% url 'atendimento:listAudiometria' %}" class="btn btn-primary">Voltar</a>
    </form>
            </div>
            <div style="display: inline-block;">
                {% if option_delete == 'yes' %}
                <form action="{% url 'atendimento:deleteAudiometria' audiometria.id %}" method="POST">
                    {% csrf_token %}
                    {% if confirmation_delete == 'no' %}
                    <input name="confirmation_delete" type="hidden" value="yes">
                    <button class="btn btn-danger">Confirma?</button>
                    {% else %}
                    <button class="btn btn-danger">Delete</button>
                    {% endif %}
                </form>
            </div>
        </div>        
                {% endif %}
</div>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/static/global/partials/jquery.mask.min.js"></script>
<script>
$(document).ready(function($){
    $('.mask-date').mask('00/00/0000');  
});

function openTab(evt, tabName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}
document.getElementById("defaultOpen").click();
</script>
{% endblock content %}
